{"ast":null,"code":"var _jsxFileName = \"/home/igor/Kenzie - M3/Entregas/Formul\\xE1rio-sem-tsx/src/contexts/TechsContext.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { createContext, useContext } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Swal from \"sweetalert2\"; //tive que fazer a exportação assim, já que dizia que não eram suportadas multiplas exportações. \n//LEMBRETE: procurar o motivo deste erro depois!!!\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechsContext = /*#__PURE__*/createContext({\n  addTech: () => null,\n  deleteTech: () => null\n});\nexport const TechsContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    user\n  } = useContext(UserContext);\n  const [techs, setTechs] = useState([]);\n  const token = localStorage.getItem('userToken');\n  const res = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }; //não entendi como resolver a questão do array com as techs. VER DEPOIS!!!\n\n  useEffect(() => {\n    axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n  }, [techs]);\n\n  function addTech(data) {\n    axios.post('https://kenziehub.herokuapp.com/users/techs', data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      Swal.showLoading();\n      setTimeout(() => {\n        Swal.fire({\n          icon: \"success\",\n          tittle: \"Tecnologia adicionada com sucesso!!\",\n          text: \"Boa!!\"\n        });\n        axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n      }, \"3000\");\n    }).catch(err => {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Eita!\",\n        text: \"Essa tecnologia já foi add por você antes.\"\n      });\n    });\n  }\n\n  function deleteTech(id) {\n    axios.delete(`https://kenziehub.herokuapp.com/users/techs/${id}`, res).then(Swal.fire({\n      incon: \"success\",\n      tittle: \"Tecnologia excluida com sucesso\",\n      text: \"A tecnologia selecionada foi exluida\"\n    }));\n    axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(TechsContext.Provider, {\n    value: {\n      techs,\n      addTech,\n      deleteTech\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TechsContextProvider, \"j0vFPwKDLiC+GIDtkcB2QCo/HmM=\");\n\n_c = TechsContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechsContextProvider\");","map":{"version":3,"names":["axios","createContext","useContext","UserContext","useState","useEffect","Swal","TechsContext","addTech","deleteTech","TechsContextProvider","children","user","techs","setTechs","token","localStorage","getItem","res","headers","Authorization","get","then","response","data","catch","err","console","log","post","showLoading","setTimeout","fire","icon","tittle","text","title","id","delete","incon"],"sources":["/home/igor/Kenzie - M3/Entregas/Formulário-sem-tsx/src/contexts/TechsContext.tsx"],"sourcesContent":["import axios from \"axios\"\n\nimport { createContext, useContext } from \"react\"\nimport { UserContext } from \"./UserContext\"\nimport { useState } from \"react\"\nimport { useEffect } from \"react\"\n\nimport Swal from \"sweetalert2\"\n\n//tive que fazer a exportação assim, já que dizia que não eram suportadas multiplas exportações. \n//LEMBRETE: procurar o motivo deste erro depois!!!\nexport const TechsContext = createContext({\n    addTech: () => null,\n    deleteTech: () => null\n})\n\nexport const TechsContextProvider = ({children}) => {\n\n    const {user} = useContext(UserContext)\n    const [techs, setTechs] = useState([])\n    const token = localStorage.getItem('userToken')\n    const res = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        }\n      }\n    \n      //não entendi como resolver a questão do array com as techs. VER DEPOIS!!!\n      useEffect(() => {\n        axios\n          .get(\"https://kenziehub.herokuapp.com/profile\", res)\n          .then((response) => setTechs(response.data.techs))\n          .catch((err) => console.log(err))\n      }, [techs])\n\n\n    function addTech(data) {\n           axios\n           .post('https://kenziehub.herokuapp.com/users/techs', data, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                },\n           })    \n            .then((response) => {\n                Swal.showLoading();\n                setTimeout(() => {\n                  Swal.fire({\n                    icon: \"success\", \n                    tittle: \"Tecnologia adicionada com sucesso!!\", \n                    text: \"Boa!!\"})\n\n            axios\n                .get(\"https://kenziehub.herokuapp.com/profile\", res)\n                .then((response) => setTechs(response.data.techs))\n                .catch((err) => console.log(err))\n                }, \"3000\")\n              })    \n               .catch ((err) => {\n                Swal.fire({\n                    icon: \"error\",\n                    title: \"Eita!\",\n                    text: \"Essa tecnologia já foi add por você antes.\",\n                  })\n                })\n    }\n\n    function deleteTech(id) {\n        axios\n          .delete(`https://kenziehub.herokuapp.com/users/techs/${id}`, res)\n          .then(\n            Swal.fire({\n                incon: \"success\",\n                tittle: \"Tecnologia excluida com sucesso\",\n                text: \"A tecnologia selecionada foi exluida\",\n            })\n          )\n          \n          axios\n          .get(\"https://kenziehub.herokuapp.com/profile\", res)\n          .then((response) => setTechs(response.data.techs))\n          .catch((err) => console.log(err));\n      }\n\n\n\n    return (\n        <TechsContext.Provider value={{techs, addTech, deleteTech}}>\n            {children}\n        </TechsContext.Provider>   \n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}