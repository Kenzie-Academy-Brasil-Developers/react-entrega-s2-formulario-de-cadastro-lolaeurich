{"ast":null,"code":"var _jsxFileName = \"/home/igor/Kenzie - M3/Entregas/Formul\\xE1rio-sem-tsx/src/contexts/TechsContext.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { createContext } from \"react\"; //import { UserContext } from \"./UserContext\"\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Swal from \"sweetalert2\"; //tive que fazer a exportação assim, já que dizia que não eram suportadas multiplas exportações. \n//LEMBRETE: procurar o motivo deste erro depois!!!\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechsContext = /*#__PURE__*/createContext({});\nexport const TechsContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  //const {user} = useContext(UserContext)\n  const [techs, setTechs] = useState({});\n  const token = localStorage.getItem('userToken');\n  const res = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }; //não entendi como resolver a questão do array com as techs. VER DEPOIS!!!\n\n  useEffect(() => {\n    axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n  }, [techs]);\n\n  function addTech(data) {\n    axios.post('https://kenziehub.herokuapp.com/users/techs', data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      Swal.showLoading();\n      setTimeout(() => {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Tecnologia adicionada com sucesso!!\",\n          text: \"Boa!!\"\n        });\n        axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n      }, 3000);\n    }).catch(err => {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Eita!\",\n        text: \"Essa tecnologia já foi add por você antes.\"\n      });\n    });\n  }\n\n  function deleteTech(id) {\n    axios.delete(`https://kenziehub.herokuapp.com/users/techs/${id}`, res).then();\n    axios.get(\"https://kenziehub.herokuapp.com/profile\", res).then(response => setTechs(response.data.techs)).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/_jsxDEV(TechsContext.Provider, {\n    value: {\n      techs,\n      addTech,\n      deleteTech\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TechsContextProvider, \"y5g+R2EmuIuc6iH2EYGMX+lxuuc=\");\n\n_c = TechsContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechsContextProvider\");","map":{"version":3,"names":["axios","createContext","useState","useEffect","Swal","TechsContext","TechsContextProvider","children","techs","setTechs","token","localStorage","getItem","res","headers","Authorization","get","then","response","data","catch","err","console","log","addTech","post","showLoading","setTimeout","fire","icon","title","text","deleteTech","id","delete"],"sources":["/home/igor/Kenzie - M3/Entregas/Formulário-sem-tsx/src/contexts/TechsContext.tsx"],"sourcesContent":["import axios from \"axios\"\n\nimport { createContext, ReactNode, useContext } from \"react\"\n//import { UserContext } from \"./UserContext\"\nimport { useState } from \"react\"\nimport { useEffect } from \"react\"\n\nimport Swal from \"sweetalert2\"\n\n//tive que fazer a exportação assim, já que dizia que não eram suportadas multiplas exportações. \n//LEMBRETE: procurar o motivo deste erro depois!!!\nexport const TechsContext = createContext({} as ITechsContext)\n\ninterface IUserTechsProviderProps {\n  children: ReactNode\n}\n\ninterface ITechsContext {\n  techs: string\n  addTech: any\n  deleteTech: any\n}\n\ninterface ITech {\n  id: string;\n  title: string;\n  status: string;\n  created_at: Date;\n  updated_at: Date;\n}\n\nexport const TechsContextProvider = ({children}: IUserTechsProviderProps) => {\n\n    //const {user} = useContext(UserContext)\n    const [techs, setTechs] = useState<ITech>({} as ITech)\n    const token = localStorage.getItem('userToken')\n    const res = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        }\n      }\n    \n      //não entendi como resolver a questão do array com as techs. VER DEPOIS!!!\n      useEffect(() => {\n        axios\n          .get(\"https://kenziehub.herokuapp.com/profile\", res)\n          .then((response) => setTechs(response.data.techs))\n          .catch((err) => console.log(err))\n      }, [techs])\n\n      interface IAddTechParams {\n        title: string;\n        status: string;\n      }\n\n\n    function addTech(data: IAddTechParams) {\n           axios\n           .post('https://kenziehub.herokuapp.com/users/techs', data, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                },\n           })    \n            .then((response) => {\n                Swal.showLoading();\n                setTimeout(() => {\n                  Swal.fire({\n                    icon: \"success\", \n                    title: \"Tecnologia adicionada com sucesso!!\", \n                    text: \"Boa!!\"})\n\n            axios\n                .get(\"https://kenziehub.herokuapp.com/profile\", res)\n                .then((response) => setTechs(response.data.techs))\n                .catch((err) => console.log(err))\n                }, 3000)\n              })    \n               .catch ((err) => {\n                Swal.fire({\n                    icon: \"error\",\n                    title: \"Eita!\",\n                    text: \"Essa tecnologia já foi add por você antes.\",\n                  })\n                })\n    }\n\n    function deleteTech(id: string) {\n        axios\n          .delete(`https://kenziehub.herokuapp.com/users/techs/${id}`, res)\n          .then(\n            //verificar porque o sweetalert não está funcionando nessa parte\n\n            //Swal.fire({\n              //  incon: \"success\",\n                //title: \"Tecnologia excluida com sucesso\",\n                //text: \"A tecnologia selecionada foi exluida\",\n           // })\n          )\n          \n          axios\n          .get(\"https://kenziehub.herokuapp.com/profile\", res)\n          .then((response) => setTechs(response.data.techs))\n          .catch((err) => console.log(err));\n      }\n\n\n\n    return (\n        <TechsContext.Provider value={{techs, addTech, deleteTech}}>\n            {children}\n        </TechsContext.Provider>   \n    )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,aAAT,QAAqD,OAArD,C,CACA;;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,OAAOC,IAAP,MAAiB,aAAjB,C,CAEA;AACA;;;AACA,OAAO,MAAMC,YAAY,gBAAGJ,aAAa,CAAC,EAAD,CAAlC;AAoBP,OAAO,MAAMK,oBAAoB,GAAG,QAAyC;EAAA;;EAAA,IAAxC;IAACC;EAAD,CAAwC;EAEzE;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAQ,EAAR,CAAlC;EACA,MAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;EACA,MAAMC,GAAG,GAAG;IACRC,OAAO,EAAE;MACPC,aAAa,EAAG,UAASL,KAAM;IADxB;EADD,CAAZ,CALyE,CAWvE;;EACAP,SAAS,CAAC,MAAM;IACdH,KAAK,CACFgB,GADH,CACO,yCADP,EACkDH,GADlD,EAEGI,IAFH,CAESC,QAAD,IAAcT,QAAQ,CAACS,QAAQ,CAACC,IAAT,CAAcX,KAAf,CAF9B,EAGGY,KAHH,CAGUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHlB;EAID,CALQ,EAKN,CAACb,KAAD,CALM,CAAT;;EAaF,SAASgB,OAAT,CAAiBL,IAAjB,EAAuC;IAChCnB,KAAK,CACJyB,IADD,CACM,6CADN,EACqDN,IADrD,EAC2D;MACtDL,OAAO,EAAE;QACLC,aAAa,EAAG,UAASL,KAAM;MAD1B;IAD6C,CAD3D,EAMEO,IANF,CAMQC,QAAD,IAAc;MAChBd,IAAI,CAACsB,WAAL;MACAC,UAAU,CAAC,MAAM;QACfvB,IAAI,CAACwB,IAAL,CAAU;UACRC,IAAI,EAAE,SADE;UAERC,KAAK,EAAE,qCAFC;UAGRC,IAAI,EAAE;QAHE,CAAV;QAKN/B,KAAK,CACAgB,GADL,CACS,yCADT,EACoDH,GADpD,EAEKI,IAFL,CAEWC,QAAD,IAAcT,QAAQ,CAACS,QAAQ,CAACC,IAAT,CAAcX,KAAf,CAFhC,EAGKY,KAHL,CAGYC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHpB;MAIK,CAVS,EAUP,IAVO,CAAV;IAWD,CAnBJ,EAoBKD,KApBL,CAoBaC,GAAD,IAAS;MAChBjB,IAAI,CAACwB,IAAL,CAAU;QACNC,IAAI,EAAE,OADA;QAENC,KAAK,EAAE,OAFD;QAGNC,IAAI,EAAE;MAHA,CAAV;IAKC,CA1BN;EA2BN;;EAED,SAASC,UAAT,CAAoBC,EAApB,EAAgC;IAC5BjC,KAAK,CACFkC,MADH,CACW,+CAA8CD,EAAG,EAD5D,EAC+DpB,GAD/D,EAEGI,IAFH;IAYEjB,KAAK,CACJgB,GADD,CACK,yCADL,EACgDH,GADhD,EAECI,IAFD,CAEOC,QAAD,IAAcT,QAAQ,CAACS,QAAQ,CAACC,IAAT,CAAcX,KAAf,CAF5B,EAGCY,KAHD,CAGQC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHhB;EAIH;;EAIH,oBACI,QAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAE;MAACb,KAAD;MAAQgB,OAAR;MAAiBQ;IAAjB,CAA9B;IAAA,UACKzB;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAjFM;;GAAMD,oB;;KAAAA,oB"},"metadata":{},"sourceType":"module"}